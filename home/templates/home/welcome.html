{% load static %}
<i class="fa-solid fa-xmark" id="arrow"></i>

<div class="welcome-container">
    <div class="logo-container">
      <img src="{% static 'img/logo-welcome.png' %}" class="welcome-logo" alt="Welcome Logo">
    </div>
    <div class="welcome-text">
        <h6 class="inside-header">Spoiler-Free Ratings, Highlights, and Results</h6>
        <p>Missed a game or race and want to know if it's worth watching, but can't find out without seeing the results?</p>
        <p>SIWS provides crowd-sourced and AI ratings (AI currently only for F1 events, other sports coming soon), helping you decide without spoilers.</p>
        <p>Rate an event that you watched, helping other users make a spoiler-free decision.</p>
        <ul>
          <li><strong>HOT WATCH</strong> - watch the full replay</li>
          <li><strong>MID TEMP</strong> - catch the highlights</li>
          <li><strong>NOT WATCH</strong> - skip to the results</li>
        </ul>
        <p>Watch the highlights video and access results directly from our event pages.</p>
    </div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', () => {
      const arrow = document.getElementById('arrow');
      const welcomeContainer = document.querySelector('.welcome-container');
  
      // Check if the welcomeContainer element is found
      if (!arrow || !welcomeContainer) {
        console.error('Arrow or Welcome Container not found in the DOM.');
        return;
      }
  
      // Check if the container was previously hidden (stored in localStorage)
      const wasHidden = localStorage.getItem('welcomeContainerHidden') === 'true';
  
      // Apply initial state based on localStorage value
      if (wasHidden) {
        welcomeContainer.style.display = 'none';
        arrow.classList.remove('fa-xmark');
        arrow.classList.add('fa-angle-down');
      } else {
        welcomeContainer.style.display = 'block';
        arrow.classList.remove('fa-angle-down');
        arrow.classList.add('fa-xmark');
      }
  
      // Add event listener for arrow click
      arrow.addEventListener('click', () => {
        const isHidden = welcomeContainer.style.display === 'none' || welcomeContainer.style.display === '';
  
        if (isHidden) {
          // Show the entire container (text and image)
          welcomeContainer.style.display = 'block';
          arrow.classList.remove('fa-angle-down');
          arrow.classList.add('fa-xmark');
          // Store that the container is visible
          localStorage.setItem('welcomeContainerHidden', 'false');
        } else {
          // Hide the entire container (text and image)
          welcomeContainer.style.display = 'none';
          arrow.classList.remove('fa-xmark');
          arrow.classList.add('fa-angle-down');
          // Store that the container is hidden
          localStorage.setItem('welcomeContainerHidden', 'true');
        }
      });
    });
  </script>
  


<!-- Welcome Modal -->
<div class="modal fade" id="welcomeModal" tabindex="-1" aria-labelledby="welcomeModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h6 class="modal-title" id="welcomeModalLabel">Notice</h6>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                Should I Watch Sports will return with the new motorsports season in March 2025
                
                Thanks for visiting.
            
            </div>

        </div>
    </div>
</div>

